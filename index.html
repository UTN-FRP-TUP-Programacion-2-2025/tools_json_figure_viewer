<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor JSON 3D - Cilindro</title>
    <!-- Bootstrap 4.3.1 CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/visor.css?v=9">
</head>
<body>
    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-12">
                <h1 class="text-center mb-4">
                    <i class="fas fa-cube text-primary"></i>
                    Visor JSON 3D - Cilindro Interactivo
                </h1>
            </div>
        </div>
        
        <div class="row">
            <!-- Panel de entrada JSON -->
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-code"></i> Entrada JSON</h5>
                    </div>
                    <div class="card-body">
                        <textarea id="jsonInput" class="form-control mb-3" rows="15" placeholder="Pega aquí tu JSON con figuras 3D...">
[ 
  {
  "Tipo": "Cilindro", 
  "Tapas": 
  [
    {  
  "Tipo":"Circulo", 
  "Radio": 3.00, 
  "Area": 28.27
}, 
    {  
  "Tipo":"Circulo", 
  "Radio": 3.00, 
  "Area": 28.27
}
  ],
  "Lado": 
{ 
  "Tipo": "RectanguloDesarrollado", 
  "Largo": 3.00, 
  "Ancho": 18.85, 
  "Area": 56.55
},
  "Area": 113.10,
  "Volumen": 84.82
},
  {  
  "Tipo": "Cubo", 
  "Caras": 
  [
    { 
  "Tipo":"Cuadrado", 
  "Largo": 3.00, 
  "Ancho": 3.00, 
  "Area": 9.00
}, 
{ 
  "Tipo":"Cuadrado", 
  "Largo": 3.00, 
  "Ancho": 3.00, 
  "Area": 9.00
}, 
{ 
  "Tipo":"Cuadrado", 
  "Largo": 3.00, 
  "Ancho": 3.00, 
  "Area": 9.00
}, 
{ 
  "Tipo":"Cuadrado", 
  "Largo": 3.00, 
  "Ancho": 3.00, 
  "Area": 9.00
}, 
{ 
  "Tipo":"Cuadrado", 
  "Largo": 3.00, 
  "Ancho": 3.00, 
  "Area": 9.00
}, 
{ 
  "Tipo":"Cuadrado", 
  "Largo": 3.00, 
  "Ancho": 3.00, 
  "Area": 9.00
}
  ],  
  "Area": 36.00,
  "Volumen": 27.00
},
  {  
  "Tipo": "Ortoedro", 
  "Bases": 
  [
    
{ 
  "Tipo": "Rectangulo", 
  "Largo": 7.00, 
  "Ancho": 7.00, 
  "Area": 49.00
}, 
    
{ 
  "Tipo": "Rectangulo", 
  "Largo": 7.00, 
  "Ancho": 7.00, 
  "Area": 49.00
}
  ],
  "Laterales": 
    [
      
{ 
  "Tipo": "Rectangulo", 
  "Largo": 21.00, 
  "Ancho": 7.00, 
  "Area": 147.00
}, 
{ 
  "Tipo": "Rectangulo", 
  "Largo": 21.00, 
  "Ancho": 7.00, 
  "Area": 147.00
}, 
{ 
  "Tipo": "Rectangulo", 
  "Largo": 21.00, 
  "Ancho": 7.00, 
  "Area": 147.00
}, 
{ 
  "Tipo": "Rectangulo", 
  "Largo": 21.00, 
  "Ancho": 7.00, 
  "Area": 147.00
}
    ],
  "Area": 686.00,
  "Volumen": 343.00
}
]</textarea>
                        <button id="parseBtn" class="btn btn-parse btn-lg btn-block">
                            <i class="fas fa-play"></i> Procesar JSON
                        </button>
                        <div class="mt-2">
                            <small class="text-muted">
                                <i class="fas fa-info-circle"></i> 
                                Soporta JSON con comas finales y comentarios
                            </small>
                        </div>
                    </div>
                </div>
                
                <!-- Panel de árbol JSON -->
                <div class="card mt-3">
                    <div class="card-header">
                        <h5><i class="fas fa-sitemap"></i> Estructura Jerárquica</h5>
                    </div>
                    <div class="card-body">
                        <div id="jsonTree" class="json-tree">
                            <em class="text-muted">Procesa un JSON para ver la estructura aquí...</em>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Panel de visualización 3D -->
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-cube"></i> Visualización 3D</h5>
                    </div>
                    <div class="card-body">
                        <div id="canvas-container">
                            <canvas id="canvas-3d"></canvas>
                        </div>
                        
                        <div class="controls-panel">
                            <h6><i class="fas fa-cogs"></i> Controles de Vista</h6>
                            <div class="row">
                                <div class="col-md-4">
                                    <button id="resetView" class="btn btn-secondary btn-sm btn-block">
                                        <i class="fas fa-refresh"></i> Restablecer Vista
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <button id="toggleWireframe" class="btn btn-info btn-sm btn-block">
                                        <i class="fas fa-project-diagram"></i> Wireframe
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <button id="centerObjects" class="btn btn-success btn-sm btn-block">
                                        <i class="fas fa-crosshairs"></i> Centrar
                                    </button>
                                </div>
                            </div>
                            <div class="mt-2">
                                <small class="text-muted">
                                    <i class="fas fa-mouse"></i> Arrastra para rotar • 
                                    <i class="fas fa-mouse-pointer"></i> Rueda para zoom
                                </small>
                            </div>
                        </div>
                        
                        <div class="info-panel">
                            <h6><i class="fas fa-info-circle"></i> Información del Objeto</h6>
                            <div id="objectInfo">
                                <em class="text-muted">Procesa un JSON para ver información aquí...</em>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Bootstrap 4.3.1 JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script src="js/visor.js?v=9"></script>
</body>
</html>